<h1>Developers Guide</h1>

<p>
    This page exists to help developers get started using the data in the DEL through the FHIR server.
</p>

<p>
    In the examples below, substitute &lt;fhir-server&gt; with the location of the FHIR server containing
    this implemtation guide and all the DEL questionnaire resources.
</p>

<h2>Basic Operations</h2>

<p>
    Questionnaires store the entire structure and hierarchy of a standard form. A questionnaire is useful if you wish to
    recreate the paper form that the questionnaire represents.
</p>

<p>
    Each questionnaire resource represents a single standard form and version. For example, IRF-PAI 3.0 and IRF-PAI 2.0
    are separate resources.
</p>

<p>
    <b>Profile:</b> https://impact-fhir.mitre.org/r4/StructureDefinition/del-StandardForm
</p>

<p>To retrieve all the standard forms, query for questionnaires matching the profile:</p>

<pre>GET https://&lt;fhir-server&gt;/Questionnaire?_profile=https://impact-fhir.mitre.org/r4/StructureDefinition/del-StandardForm</pre>

<p>To retrieve a single standard form, simply get the questionnaire by ID:</p>

<pre>GET https://&lt;fhir-server&gt;/Questionnaire/IRF-PAI-3.0</pre>

<h2>Searching</h2>

<p>
    One of the use cases for this implementation guide is the ability to search for questionnaires based on content
    of the questions within the questionnaire.
    For example, one may want to find all questionnaires that contain questions about "influenza".
    This is not possible using the default Questionnaire search parameters.
</p>

<p>
    This implementation guide contains a SearchParameter resource that enables searching by Questionnaire.item.text.
    Before searching by item- ext, you must load the SearchParameter resource to the FHIR server.
    If you are using HAPI FHIR Server 4.x.x or later, the server will automatically index all Questionnaire.item.text
    values and enable searching. Other server implementations may vary.
</p>

<p>
    SearchParameter: <a href="SearchParameter-QuestionnaireItemText.html">SearchParameter-QuestionnaireItemText.html</a>
</p>

<p>To search by item text, use the <code>item-text</code> search keyword:</p>

<pre>GET https://&lt;fhir-server&gt;/Questionnaire?item-text=influenza</pre>

<p>
    This will return all questionnaires containing the term "influenza" anywhere in the item text.
    This will return a full representation of each questionnaire, including questions that do not contain the term.
    It is the responsibility of the client to filter returned values further.
</p>

<p>You may also search by any other field defined as searchable on the measure resource:</p>

<p><a href="https://www.hl7.org/fhir/measure.html#search">https://www.hl7.org/fhir/measure.html#search</a></p>

<h2>LOINC Codes</h2>

<p>LOINC codes are present on all levels of each questionnaire.</p>

<h3>Questionnaire</h3>

<p>A LOINC code may be present on the questionnaire. Example: </p>

<pre>
"resourceType": "Questionnaire",
"id": "IRF-PAI-IA-1.4",
"version": "1.4",
"publisher": "Division of Chronic and Post Acute Care",
"title": "Inpatient Rehabilitation Facility Patient Assessment Instrument - IRF Admission",
"code": [
    {
    "system": "http://loinc.org",
    "display": "Inpatient Rehabilitation Facility - Patient Assessment Instrument (IRF-PAI) - version 1.4",
    "code": "83265-9"
    }
],
</pre>

<h3>Section</h3>

<p>A LOINC code may be present on a section within the questionnaire. Example:</p>

<pre>coming soon</pre>

<h3>Question</h3>

<p>A LOINC code may be present on a question within the questionnaire. Example:</p>

<pre>coming soon</pre>

<h3>Answer Option</h3>

<p>A LOINC code may be present on an answer option within the questionnaire. Example:</p>

<pre>coming soon</pre>
